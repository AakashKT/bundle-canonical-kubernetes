series: xenial
applications: 
  filebeat: 
    charm: "cs:filebeat-4"
    annotations: 
      "gui-x": "500"
      "gui-y": "950"
  "kubernetes-master": 
    charm: "cs:~containers/kubernetes-master-0"
    num_units: 1
    annotations: 
      "gui-x": "800"
      "gui-y": "850"
    to: 
      - "0"
  flannel: 
    charm: "cs:~containers/flannel-0"
    annotations: 
      "gui-x": "500"
      "gui-y": "750"
  "kubeapi-load-balancer": 
    charm: "cs:~containers/kubeapi-load-balancer-0"
    num_units: 1
    expose: true
    annotations: 
      "gui-x": "450"
      "gui-y": "250"
    to: 
      - "3"
  easyrsa: 
    charm: "cs:~containers/easyrsa-0"
    num_units: 1
    annotations: 
      "gui-x": "450"
      "gui-y": "550"
    to: 
      - "4"
  "kubernetes-worker": 
    charm: "cs:~containers/kubernetes-worker-0"
    num_units: 1
    annotations: 
      "gui-x": "100"
      "gui-y": "850"
    to: 
      - "1"
  elasticsearch: 
    charm: "cs:trusty/elasticsearch-18"
    num_units: 1
    annotations: 
      "gui-x": "450"
      "gui-y": "1150"
    to: 
      - "5"
  topbeat: 
    charm: "cs:topbeat-4"
    annotations: 
      "gui-x": "300"
      "gui-y": "1000"
  kibana: 
    charm: "cs:trusty/kibana-14"
    num_units: 1
    options: 
      dashboards: beats
    annotations: 
      "gui-x": "800"
      "gui-y": "1150"
    to: 
      - "6"
  etcd: 
    charm: "cs:~containers/etcd-11"
    num_units: 1
    annotations: 
      "gui-x": "800"
      "gui-y": "550"
    to: 
      - "2"
relations: 
  - - "filebeat:beats-host"
    - "kubernetes-worker:juju-info"
  - - "elasticsearch:client"
    - "topbeat:elasticsearch"
  - - "elasticsearch:client"
    - "filebeat:elasticsearch"
  - - "topbeat:beats-host"
    - "kubernetes-worker:juju-info"
  - - "kubernetes-master:kube-api-endpoint"
    - "kubeapi-load-balancer:apiserver"
  - - "filebeat:beats-host"
    - "kubernetes-master:juju-info"
  - - "kubernetes-master:loadbalancer"
    - "kubeapi-load-balancer:loadbalancer"
  - - "kubernetes-master:cluster-dns"
    - "kubernetes-worker:kube-dns"
  - - "kubernetes-master:certificates"
    - "easyrsa:client"
  - - "kubernetes-master:etcd"
    - "etcd:db"
  - - "kubernetes-master:sdn-plugin"
    - "flannel:host"
  - - "kubernetes-worker:certificates"
    - "easyrsa:client"
  - - "kubernetes-worker:sdn-plugin"
    - "flannel:host"
  - - "kubernetes-worker:kube-api-endpoint"
    - "kubeapi-load-balancer:website"
  - - "flannel:etcd"
    - "etcd:db"
  - - "kubeapi-load-balancer:certificates"
    - "easyrsa:client"
  - - "kibana:rest"
    - "elasticsearch:client"
machines: 
  "0": 
    series: xenial
  "1": 
    series: xenial
  "2": 
    series: xenial
  "3": 
    series: xenial
  "4": 
    series: xenial
  "5": 
    series: trusty
  "6": 
    series: trusty
